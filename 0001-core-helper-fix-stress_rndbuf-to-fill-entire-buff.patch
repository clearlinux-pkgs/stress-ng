From d3bc943a35037a64d971bf4888a9528fb4ed1f06 Mon Sep 17 00:00:00 2001
From: Colin Ian King <colin.i.king@gmail.com>
Date: Sun, 19 Mar 2023 12:13:22 +0000
Subject: [PATCH] core-helper: fix stress_rndbuf to fill entire buff
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 8bit

Fixes b4fe8b4f9336c00e143bf09f51668a77a4f2075 ("rework stress_strnrnd()")

Signed-off-by: Colin Ian King <colin.i.king@gmail.com>
---
 core-helper.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/core-helper.c b/core-helper.c
index 00f60449..16048bd3 100644
--- a/core-helper.c
+++ b/core-helper.c
@@ -1600,7 +1600,7 @@ void stress_rndbuf(void *buf, size_t len)
 	size_t i;
 
 	for (i = 0; i < len; i++)
-		*(char *)buf = stress_mwc8();
+		*(char *)buf++ = stress_mwc8();
 }
 
 /*
-- 
2.30.2

